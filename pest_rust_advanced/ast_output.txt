{:__block__, [], [{:defmodule, [line: 1], [{:__aliases__, [line: 1], [:MajorityVote]}, [do: {:__block__, [], [{:@, [line: 3], [{:ltl, [line: 3], ["<>(maj>1)"]}]}, {:@, [line: 4], [{:vae_init, [line: 4], [true]}]}, {:def, [line: 5], [{:start, [line: 5], nil}, [do: {:__block__, [], [{:spawn, [line: 6], [{:__aliases__, [line: 6], [:Voter]}, :vote, [{:self, [line: 6], []}]]}, {:spawn, [line: 7], [{:__aliases__, [line: 7], [:Voter]}, :vote, [{:self, [line: 7], []}]]}, {:spawn, [line: 8], [{:__aliases__, [line: 8], [:Voter]}, :vote, [{:self, [line: 8], []}]]}, {:=, [line: 9], [{:maj, [line: 9], nil}, {:await_majority, [line: 9], [3, 0]}]}, {:if, [line: 10], [{:>, [line: 10], [{:maj, [line: 10], nil}, 1]}, [do: {{:., [line: 11], [{:__aliases__, [line: 11], [:IO]}, :puts]}, [line: 11], ["Majority reached"]}, else: {{:., [line: 13], [{:__aliases__, [line: 13], [:IO]}, :puts]}, [line: 13], ["Majority not reached"]}]]}]}]]}, {:@, [line: 17], [{:spec, [line: 17], [{:"::", [line: 17], [{:await_majority, [line: 17], [{:integer, [line: 17], []}, {:integer, [line: 17], []}]}, {:integer, [line: 17], []}]}]}]}, {:def, [line: 18], [{:await_majority, [line: 18], [{:n, [line: 18], nil}, {:i, [line: 18], nil}]}, [do: {:if, [line: 19], [{:==, [line: 19], [{:n, [line: 19], nil}, 0]}, [do: {:i, [line: 20], nil}, else: {:receive, [line: 22], [[do: [{:->, [line: 23], [[vote: {:x, [line: 23], nil}], {:await_majority, [line: 23], [{:-, [line: 23], [{:n, [line: 23], nil}, 1]}, {:+, [line: 23], [{:i, [line: 23], nil}, {:x, [line: 23], nil}]}]}]}]]]}]]}]]}]}]]}, {:defmodule, [line: 29], [{:__aliases__, [line: 29], [:Voter]}, [do: {:__block__, [], [{:@, [line: 30], [{:spec, [line: 30], [{:"::", [line: 30], [{:vote, [line: 30], [{:integer, [line: 30], []}]}, :ok]}]}]}, {:def, [line: 31], [{:vote, [line: 31], [{:master, [line: 31], nil}]}, [do: {:send, [line: 32], [{:master, [line: 32], nil}, {:vote, 1}]}]]}]}]]}]}