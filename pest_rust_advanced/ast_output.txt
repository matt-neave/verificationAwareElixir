{:__block__, [], [{:defmodule, [line: 1], [{:__aliases__, [line: 1], [:MajorityVote]}, [do: {:__block__, [], [{:@, [line: 3], [{:vae_init, [line: 3], [true]}]}, {:def, [line: 4], [{:start, [line: 4], nil}, [do: {:__block__, [], [{:spawn, [line: 5], [{:__aliases__, [line: 5], [:Voter]}, :vote, [{:self, [line: 5], []}]]}, {:spawn, [line: 6], [{:__aliases__, [line: 6], [:Voter]}, :vote, [{:self, [line: 6], []}]]}, {:spawn, [line: 7], [{:__aliases__, [line: 7], [:Voter]}, :vote, [{:self, [line: 7], []}]]}, {:=, [line: 8], [{:maj, [line: 8], nil}, {:await_majority, [line: 8], [3, 0]}]}, {:if, [line: 9], [{:>, [line: 9], [{:maj, [line: 9], nil}, 1]}, [do: {{:., [line: 10], [{:__aliases__, [line: 10], [:IO]}, :puts]}, [line: 10], ["Majority reached"]}, else: {{:., [line: 12], [{:__aliases__, [line: 12], [:IO]}, :puts]}, [line: 12], ["Majority not reached"]}]]}]}]]}, {:@, [line: 16], [{:spec, [line: 16], [{:"::", [line: 16], [{:await_majority, [line: 16], [{:integer, [line: 16], []}, {:integer, [line: 16], []}]}, {:integer, [line: 16], []}]}]}]}, {:def, [line: 17], [{:await_majority, [line: 17], [{:n, [line: 17], nil}, {:i, [line: 17], nil}]}, [do: {:if, [line: 18], [{:==, [line: 18], [{:n, [line: 18], nil}, 0]}, [do: {:i, [line: 19], nil}, else: {:receive, [line: 21], [[do: [{:->, [line: 22], [[vote: {:x, [line: 22], nil}], {:await_majority, [line: 22], [{:-, [line: 22], [{:n, [line: 22], nil}, 1]}, {:+, [line: 22], [{:i, [line: 22], nil}, {:x, [line: 22], nil}]}]}]}]]]}]]}]]}]}]]}, {:defmodule, [line: 28], [{:__aliases__, [line: 28], [:Voter]}, [do: {:__block__, [], [{:@, [line: 29], [{:spec, [line: 29], [{:"::", [line: 29], [{:vote, [line: 29], [{:integer, [line: 29], []}]}, :ok]}]}]}, {:def, [line: 30], [{:vote, [line: 30], [{:master, [line: 30], nil}]}, [do: {:send, [line: 31], [{:master, [line: 31], nil}, {:vote, 1}]}]]}]}]]}]}